<!DOCTYPE html><html lang="en" class="no-js"><head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../data_structure/">
      
      
        <link rel="next" href="../python_scripts/">
      
      
      <link rel="icon" href="../images/website_icon.svg">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.23">
    
    
      
        <title>Data Pipeline - Inclusive 3D Campus Map of TU Delft</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.84d31ad4.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../css/mkdocstrings.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  <link href="../assets/stylesheets/glightbox.min.css" rel="stylesheet"><script src="../assets/javascripts/glightbox.min.js"></script><style id="glightbox-style">
            html.glightbox-open { overflow: initial; height: 100%; }
            .gslide-title { margin-top: 0px; user-select: text; }
            .gslide-desc { color: #666; user-select: text; }
            .gslide-image img { background: white; }
            .gscrollbar-fixer { padding-right: 15px; }
            .gdesc-inner { font-size: 0.75rem; }
            body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color); }
            body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color); }
            body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color); }
        </style></head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#data-pipeline" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Inclusive 3D Campus Map of TU Delft" class="md-header__button md-logo" aria-label="Inclusive 3D Campus Map of TU Delft" data-md-component="logo">
      
  <img src="../images/website_icon.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Inclusive 3D Campus Map of TU Delft
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Data Pipeline
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo" aria-label="Switch to light mode" type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"></path></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo" aria-label="Switch to dark mode" type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"></path></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo" aria-label="Switch to system preference" type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"></path></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/tudelft3d/Inclusive-TU-Delft-Map" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"></path></svg>
  </div>
  <div class="md-source__repository">
    tudelft3d/Inclusive-TU-Delft-Map
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Inclusive 3D Campus Map of TU Delft" class="md-nav__button md-logo" aria-label="Inclusive 3D Campus Map of TU Delft" data-md-component="logo">
      
  <img src="../images/website_icon.svg" alt="logo">

    </a>
    Inclusive 3D Campus Map of TU Delft
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/tudelft3d/Inclusive-TU-Delft-Map" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"></path></svg>
  </div>
  <div class="md-source__repository">
    tudelft3d/Inclusive-TU-Delft-Map
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Data
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Data
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../data_structure/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Data Structure
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Data Pipeline
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Data Pipeline
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    <span class="md-ellipsis">
      Prerequisites
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#explanations" class="md-nav__link">
    <span class="md-ellipsis">
      Explanations
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Explanations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#initial-processing" class="md-nav__link">
    <span class="md-ellipsis">
      Initial Processing
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Initial Processing">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#3dbag-geometry" class="md-nav__link">
    <span class="md-ellipsis">
      3DBAG Geometry
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#custom-geometry" class="md-nav__link">
    <span class="md-ellipsis">
      Custom Geometry
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#outdoor-data" class="md-nav__link">
    <span class="md-ellipsis">
      Outdoor Data
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-combination" class="md-nav__link">
    <span class="md-ellipsis">
      Data Combination
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#final-formatting" class="md-nav__link">
    <span class="md-ellipsis">
      Final Formatting
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#actual-commands" class="md-nav__link">
    <span class="md-ellipsis">
      Actual Commands
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Actual Commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#update-the-pipeline" class="md-nav__link">
    <span class="md-ellipsis">
      Update the Pipeline
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#other-useful-commands" class="md-nav__link">
    <span class="md-ellipsis">
      Other Useful Commands
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Other Useful Commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#extract-the-3dbag-buildings" class="md-nav__link">
    <span class="md-ellipsis">
      Extract the 3DBAG Buildings
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3">
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../python_scripts/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Python
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Python
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1">
        
          
          <label class="md-nav__link" for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Code Reference
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1">
            <span class="md-nav__icon md-icon"></span>
            Code Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1_1">
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../reference/cj_helpers/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    cj_helpers
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_1_1" id="__nav_3_1_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_1_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1_1">
            <span class="md-nav__icon md-icon"></span>
            cj_helpers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/cj_helpers/cj_attributes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    cj_attributes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/cj_helpers/cj_geometry/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    cj_geometry
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/cj_helpers/cj_objects/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    cj_objects
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1_2">
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../reference/cj_loading/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    cj_loading
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_1_2" id="__nav_3_1_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_1_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1_2">
            <span class="md-nav__icon md-icon"></span>
            cj_loading
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/cj_loading/cj_loader/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    cj_loader
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/cj_loading/cj_to_gltf/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    cj_to_gltf
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1_3">
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../reference/cj_writing/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    cj_writing
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_1_3" id="__nav_3_1_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_1_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1_3">
            <span class="md-nav__icon md-icon"></span>
            cj_writing
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/cj_writing/bag_to_cj/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    bag_to_cj
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/cj_writing/gj_to_cj/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    gj_to_cj
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/cj_writing/gltf_to_cj/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    gltf_to_cj
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/cli/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    cli
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1_5">
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../reference/utils/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    utils
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_1_5" id="__nav_3_1_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_1_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1_5">
            <span class="md-nav__icon md-icon"></span>
            utils
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/utils/codelists/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    codelists
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/utils/csv_utils/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    csv_utils
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/utils/geometry_utils/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    geometry_utils
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/utils/icon_positions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    icon_positions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/utils/plane/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    plane
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../javascript_app/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    JavaScript
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../server/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Server
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../blender_docs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Blender
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../license/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    License
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    <span class="md-ellipsis">
      Prerequisites
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#explanations" class="md-nav__link">
    <span class="md-ellipsis">
      Explanations
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Explanations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#initial-processing" class="md-nav__link">
    <span class="md-ellipsis">
      Initial Processing
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Initial Processing">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#3dbag-geometry" class="md-nav__link">
    <span class="md-ellipsis">
      3DBAG Geometry
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#custom-geometry" class="md-nav__link">
    <span class="md-ellipsis">
      Custom Geometry
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#outdoor-data" class="md-nav__link">
    <span class="md-ellipsis">
      Outdoor Data
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-combination" class="md-nav__link">
    <span class="md-ellipsis">
      Data Combination
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#final-formatting" class="md-nav__link">
    <span class="md-ellipsis">
      Final Formatting
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#actual-commands" class="md-nav__link">
    <span class="md-ellipsis">
      Actual Commands
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Actual Commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#update-the-pipeline" class="md-nav__link">
    <span class="md-ellipsis">
      Update the Pipeline
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#other-useful-commands" class="md-nav__link">
    <span class="md-ellipsis">
      Other Useful Commands
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Other Useful Commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#extract-the-3dbag-buildings" class="md-nav__link">
    <span class="md-ellipsis">
      Extract the 3DBAG Buildings
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
    <a href="https://github.com/tudelft3d/Inclusive-TU-Delft-Map/edit/main/docs/data_pipeline.md" title="Edit this page" class="md-content__button md-icon" rel="edit">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"></path></svg>
    </a>
  
  
    
      
    
    <a href="https://github.com/tudelft3d/Inclusive-TU-Delft-Map/raw/main/docs/data_pipeline.md" title="View source of this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.2 8.2 0 0 1-1.23-2"></path></svg>
    </a>
  


<h1 id="data-pipeline">Data Pipeline</h1>
<p>This document will explain the data pipeline of the project, starting with the principles, up until the actual commands used to execute it.
We call data pipeline the process that starts from the "raw" input data of the map (geometry and attributes) and ends up with the final formatted data ingested by the map using JavaScript.</p>
<h2 id="prerequisites">Prerequisites</h2>
<p>To be able to run the commands mentioned below, you first need to install the Python environment. Read <a href="../python_scripts/">python_scripts.md</a> for more information.</p>
<p>To learn more about the data structure and conventions used in this project, please read <a href="../data_structure/">data_structure.md</a>.</p>
<h2 id="explanations">Explanations</h2>
<p>The main goals of this data pipeline are:</p>
<ol>
<li>Combine different data:<ul>
<li>From different sources</li>
<li>In different formats</li>
</ul>
</li>
<li>Format the data into a convenient format for the web app</li>
</ol>
<p>This means that the pipeline can be divided between three phases:</p>
<ol>
<li><a href="#initial-processing">Initial Processing</a>: Different branches and processes format and combine parts of the data into similarly formatted data.</li>
<li><a href="#data-combination">Data Combination</a>: The results of all branches are combined into one single coherent file.</li>
<li><a href="#final-formatting">Final Formatting</a>: This file is converted into a convenient input for the web app.</li>
</ol>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../images/Data_pipeline_horizontal.png" data-desc-position="bottom"><img alt="Schema of the complete data pipeline" src="../images/Data_pipeline_horizontal.png"></a></p>
<h3 id="initial-processing">Initial Processing</h3>
<p>The initial data processing and formatting is subdivided between three different branches corresponding to the different kinds of data:</p>
<ol>
<li><a href="#3dbag-geometry">3DBAG Geometry</a>: When a building is simply represented with its outer shell from the 3DBAG and does not include any indoor data.</li>
<li><a href="#custom-geometry">Custom Geometry</a>: When a building has custom geometry for the outer shell and potentially indoor data.</li>
<li><a href="#outdoor-data">Outdoor Data</a>: All the outdoor data, defined by data that is not linked to any building.</li>
</ol>
<h4 id="3dbag-geometry">3DBAG Geometry</h4>
<p>The command to load 3DBAG data is <a class="autorefs autorefs-internal" title="            load_3dbag(input_cj_path, output_cj_path, bdgs_attr_path=None, bdgs_sub_attr_path=None, overwrite=False, verbose=0)" href="../reference/cli/#cli.load_3dbag"><code>load_3dbag</code></a> from <code>cli.py</code>.
Since the 3DBAG only contains the outer shells of the buildings, the command can take attributes about the buildings and buildings' subdivisions.
A number of columns need to be present in the attributes to be able to group 3DBAG objects together, assign them a new identifier, and skip buildings that come from other sources.</p>
<p>Here is an example of running the command:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># From python/</span>
uv<span class="w"> </span>run<span class="w"> </span>data-pipeline<span class="w"> </span>load_3dbag<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>&lt;input_cityjson&gt;<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>&lt;output_cityjson&gt;<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-b<span class="w"> </span>&lt;csv_buildings_attributes_path&gt;<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-s<span class="w"> </span>&lt;csv_buildings_subdivisions_attributes_path&gt;<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-vv
</code></pre></div>
<h4 id="custom-geometry">Custom Geometry</h4>
<p>The command to load the custom geometry is <code>load_custom_building</code> from <code>cli.py</code>.
Since the custom geometry is expected to have been processed for this project, there are more requirements on the expected format.
The expected input must be glTF, but the hierarchy of the scene does not matter, only the identifiers of the objects are important.
The glTF file is not expected to have attributes (they will be ignored if there are any), as the attributes are joined from one or multiple CSV files.
However, every object identifier should have a name following this convention: <code>&lt;object_unique_id&gt;.lod_&lt;lod&gt;</code> where:</p>
<ul>
<li><code>&lt;object_unique_id&gt;</code> must be:<ul>
<li><code>&lt;Building&gt;</code> for a building,</li>
<li><code>&lt;Building&gt;.&lt;Part&gt;</code> for a building part,</li>
<li><code>&lt;Building&gt;.&lt;Part&gt;.&lt;Storey&gt;</code> for a storey,</li>
<li><code>&lt;Building&gt;.&lt;Part&gt;.&lt;Storey&gt;.&lt;Room&gt;</code> for a room.</li>
</ul>
</li>
<li><code>&lt;lod&gt;</code> is the level of detail, which can only be 0, 1, 2 or 3.</li>
</ul>
<p>So the outer shell of a building could be <code>08.lod_2</code> while the 2D footprint of a room in the same building could be <code>08.02.00.600.lod_0</code>.
The loader automatically builds a hierarchy based on this numbering, and assigns the right types to each object.
It also automatically creates the intermediate levels if they do not exist (so it is not a problem if there is no <code>08.02.lod_&lt;lod&gt;</code> in the file).</p>
<p>Finally, to add attributes to the geometry CSV files are once again expected.
The link with the geometry will be made based on their <code>&lt;object_unique_id&gt;</code> (without <code>.lod_&lt;lod&gt;</code>) in the glTF and in the specific column from the CSV file.</p>
<p>Here is an example of running the command:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># From python/</span>
uv<span class="w"> </span>run<span class="w"> </span>data-pipeline<span class="w"> </span>load_custom_building<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>&lt;input_glb&gt;<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>&lt;output_cityjson&gt;<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-b<span class="w"> </span>&lt;building_attributes_path&gt;<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-p<span class="w"> </span>&lt;building_parts_attributes_path&gt;<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-s<span class="w"> </span>&lt;building_storeys_attributes_path&gt;<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-r<span class="w"> </span>&lt;building_rooms_attributes_path&gt;<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-u<span class="w"> </span>&lt;building_units_attributes_path&gt;<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-g<span class="w"> </span>&lt;building_units_geometry_gltf_path&gt;<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-vv
</code></pre></div>
<h4 id="outdoor-data">Outdoor Data</h4>
<h3 id="data-combination">Data Combination</h3>
<h3 id="final-formatting">Final Formatting</h3>
<p>To split the content of a CityJSON file into the geometry in glTF and the attributes in CityJSON, we use the command <code>split_cj</code> from <code>cli.py</code>.
The resulting glTF and CityJSON both store the structure of the file, with the same identifiers to be able to link them together.</p>
<p>You can simply call it like this:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># From python/</span>
uv<span class="w"> </span>run<span class="w"> </span>data-pipeline<span class="w"> </span>split_cj<span class="w"> </span>&lt;cityjson_input&gt;<span class="w"> </span>&lt;folder_output&gt;
</code></pre></div>
<h2 id="actual-commands">Actual Commands</h2>
<h3 id="update-the-pipeline">Update the Pipeline</h3>
<ol>
<li>
<p>Go to <code>python</code>:</p>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span>python
</code></pre></div>
</li>
<li>
<p>Process 3DBAG data:</p>
<div class="highlight"><pre><span></span><code>uv<span class="w"> </span>run<span class="w"> </span>data-pipeline<span class="w"> </span>load_3dbag<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>../threejs/assets/processing_input/bag_geometry/subset.city.json<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>../threejs/assets/processing_output/3dbag.city.json<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-b<span class="w"> </span>../threejs/assets/processing_input/attributes/buildings.csv<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-s<span class="w"> </span>../threejs/assets/processing_input/attributes/subdivisions.csv<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--overwrite<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-vv
</code></pre></div>
</li>
<li>
<p>Process custom geometry:</p>
<div class="highlight"><pre><span></span><code>uv<span class="w"> </span>run<span class="w"> </span>data-pipeline<span class="w"> </span>load_custom_building<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>../threejs/assets/processing_input/custom_geometry/08.glb<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>../threejs/assets/processing_output/08.city.json<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-b<span class="w"> </span>../threejs/assets/processing_input/attributes/buildings.csv<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-p<span class="w"> </span>../threejs/assets/processing_input/attributes/parts.csv<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-s<span class="w"> </span>../threejs/assets/processing_input/attributes/storeys.csv<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-r<span class="w"> </span>../threejs/assets/processing_input/attributes/rooms.csv<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-u<span class="w"> </span>../threejs/assets/processing_input/attributes/units.csv<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-g<span class="w"> </span>../threejs/assets/processing_input/custom_geometry/08-navigation_elements.glb<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--overwrite<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-vv
</code></pre></div>
</li>
<li>
<p>Process the outdoor icons:</p>
<div class="highlight"><pre><span></span><code>uv<span class="w"> </span>run<span class="w"> </span>data-pipeline<span class="w"> </span>load_outdoor<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>../threejs/assets/processing_input/all_outdoor_objects.geojson<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>../threejs/assets/processing_output/outdoor.city.json
</code></pre></div>
</li>
<li>
<p>Merge them together:</p>
<div class="highlight"><pre><span></span><code>uv<span class="w"> </span>run<span class="w"> </span>cjio<span class="w"> </span>../threejs/assets/processing_output/08.city.json<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>merge<span class="w"> </span>../threejs/assets/processing_output/3dbag.city.json<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>merge<span class="w"> </span>../threejs/assets/processing_output/outdoor.city.json<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>save<span class="w">  </span>../threejs/assets/processing_output/all_buildings.city.json
</code></pre></div>
</li>
<li>
<p>Split into CityJSON and glTF used by the map:</p>
<div class="highlight"><pre><span></span><code>uv<span class="w"> </span>run<span class="w"> </span>data-pipeline<span class="w"> </span>split_cj<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>../threejs/assets/processing_output/all_buildings.city.json<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>../threejs/assets/threejs/buildings<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--overwrite<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-vv
</code></pre></div>
</li>
</ol>
<h3 id="other-useful-commands">Other Useful Commands</h3>
<h4 id="extract-the-3dbag-buildings">Extract the 3DBAG Buildings</h4>
<p>To make one CityJSON file with all the buildings that we want, we followed this process:</p>
<ol>
<li>Download all the necessary tiles from the <a href="https://3dbag.nl/en/download?tid=9-284-556">3DBAG</a>.</li>
<li>
<p>Merge them all into one with <code>cjio</code>:</p>
<div class="highlight"><pre><span></span><code>uv<span class="w"> </span>run<span class="w"> </span>cjio<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>../threejs/assets/processing_input/bag_geometry/all_tiles/10-284-560.city.json<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>merge<span class="w"> </span><span class="s1">'../threejs/assets/processing_input/bag_geometry/all_tiles/*.city.json'</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>save<span class="w"> </span>../threejs/assets/processing_input/bag_geometry/all_merged.city.json
</code></pre></div>
</li>
<li>
<p>Extract only the necessary buildings with a custom script based on <code>cjio</code>:</p>
<div class="highlight"><pre><span></span><code>uv<span class="w"> </span>run<span class="w"> </span>data-pipeline<span class="w"> </span>subset_cj<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>../threejs/assets/processing_input/bag_geometry/all_merged.city.json<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>../threejs/assets/processing_input/bag_geometry/subset.city.json<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>../threejs/assets/processing_input/bag_geometry/all_bag_ids-only_tud.txt
</code></pre></div>
</li>
</ol>
<p>In practice, we also used this command to extract the different parts of a building that was removed in a subsequent 3DBAG version:</p>
<div class="highlight"><pre><span></span><code>uv<span class="w"> </span>run<span class="w"> </span>cjio<span class="w"> </span>../threejs/assets/processing_input/bag_geometry/all_merged_old.city.json<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>subset<span class="w"> </span><span class="se">\</span>
<span class="w">        </span>--id<span class="w"> </span>NL.IMBAG.Pand.0503100000004736<span class="w"> </span><span class="se">\</span>
<span class="w">        </span>--id<span class="w"> </span>NL.IMBAG.Pand.0503100000016058<span class="w"> </span><span class="se">\</span>
<span class="w">        </span>--id<span class="w"> </span>NL.IMBAG.Pand.0503100000030991<span class="w"> </span><span class="se">\</span>
<span class="w">        </span>--id<span class="w"> </span>NL.IMBAG.Pand.0503100000004735<span class="w"> </span><span class="se">\</span>
<span class="w">        </span>--id<span class="w"> </span>NL.IMBAG.Pand.0503100000016055<span class="w"> </span><span class="se">\</span>
<span class="w">        </span>--id<span class="w"> </span>NL.IMBAG.Pand.0503100000016057<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>save<span class="w"> </span>../threejs/assets/processing_input/bag_geometry/building_60.city.json
</code></pre></div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["content.code.copy", "content.action.edit", "content.action.view"], "search": "../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
    
  
<script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(()=>{ lightbox.reload(); });
</script></body></html>